# 数据库说明

## 数据库结构

本系统使用MySQL 8.0数据库，包含以下核心表：

### 核心表结构

1. **users** - 用户表
   - 存储用户基本信息、认证信息

2. **categories** - 分类表
   - 支持收入/支出分类
   - 支持二级分类结构
   - 预设常用分类

3. **accounts** - 账户表
   - 管理用户的各种账户(现金、银行卡、微信等)
   - 记录账户余额

4. **transactions** - 交易记录表
   - 核心数据表，记录所有收支和转账
   - 支持图片、标签、地点等扩展信息

5. **budgets** - 预算表
   - 支持总预算和分类预算
   - 支持月度和年度预算

6. **reminders** - 提醒表
   - 智能提醒功能
   - 支持多种提醒类型

7. **statistics_cache** - 统计缓存表
   - 提高复杂统计查询的性能

## 初始化

1. 使用Docker启动MySQL：
   ```bash
   cd docker
   docker-compose up -d
   ```

2. 初始化数据库和表结构：
   ```bash
   mysql -h localhost -P 3306 -u root -p < database/init.sql
   ```

## 预设分类

系统预设了常用的收入和支出分类：

### 支出分类
- 🍔 餐饮 (早餐、午餐、晚餐、夜宵、零食、饮料、聚餐)
- 🚇 交通 (地铁、公交、打车、加油、停车、高速)
- 🎮 娱乐 (电影、游戏、KTV、旅游)
- 🛒 购物 (衣服、鞋子、日用品、数码)
- 📚 学习 (书籍、课程、文具)
- 🏥 医疗 (看病、买药、体检)
- 🏠 居住 (房租、水电、物业)
- 📱 通讯 (话费、宽带)
- 👥 社交 (礼物、聚餐、红包)
- 💄 美容 (护肤、美发、化妆品)
- 🏃 运动 (健身、装备)
- 🐕 宠物 (食品、医疗、用品)
- 📦 其他

### 收入分类
- 💰 工资
- 🎁 奖金
- 💸 兼职
- 📈 投资收益
- 🧧 红包
- 💳 退款
- 📦 其他

## 数据备份

建议定期备份数据库：

```bash
mysqldump -h localhost -P 3306 -u root -p finance_system > backup.sql
```